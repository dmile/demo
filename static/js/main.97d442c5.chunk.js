(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(e,n,t){e.exports=t(5)},5:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(1);t(4),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=320,i=240;function s(){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark(function e(){var n,t,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return n=e.sent,t=n.filter(function(e){return"videoinput"===e.kind}),r=t[0],console.log("Video device selected: ".concat(r.deviceId)),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark(function e(n){var t,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={video:{deviceId:{exact:n.deviceId},width:{max:c},height:{max:i}}},e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:return r=e.sent,console.log("Video stream opened: ".concat(r.id)),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){var n=document.createElement("video");return document.body.appendChild(n),n.width=c,n.height=i,n.srcObject=e,n.onloadedmetadata=function(){n.play(),console.log("Video playing")},n}function l(){var e=document.createElement("canvas");return document.body.appendChild(e),e.width=c,e.height=i,e}function w(e){var n=e.getVideoTracks()[0];return new ImageCapture(n)}var h=new Blob(["Tiny content"],{type:"image/png"});function v(e,n){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark(function e(n,t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.takePhoto();case 2:r=e.sent,window.tmp=r,n.send(h);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",createImageBitmap(window.tmp));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){var e=Object(o.a)(a.a.mark(function e(){var n,t,r,u,d,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return n=e.sent,e.next=5,p(n);case 5:t=e.sent,r=w(t),f(t),u=l().getContext("2d"),d="https"===window.location.protocol?"wss":"ws",(h=new WebSocket("".concat(d,"://demos.kaazing.com/echo"))).binaryType="blob",h.onopen=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Web socked opened"),e.next=3,v(h,r);case 3:case"end":return e.stop()}},e)})),h.onmessage=function(){var e=Object(o.a)(a.a.mark(function e(n){var t,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.data,e.next=3,g(t);case 3:return o=e.sent,u.drawImage(o,0,0,c,i),e.next=7,v(h,r);case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),h.onclose=function(){console.log("Web socked closed")};case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[2,1,2]]]);
//# sourceMappingURL=main.97d442c5.chunk.js.map